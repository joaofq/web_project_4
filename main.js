!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.d({},{v5:function(){return N},oB:function(){return I}});var n=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=t,this._link=n,this._templateSelector=r,this._index=o,this._handleCardClick=i}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){var e=document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0);this._element=e}},{key:"_setListners",value:function(){var e=this;this._element.querySelector(".card__trash").addEventListener("click",this._deleteCard),this._element.querySelector(".likebutton").addEventListener("click",this._toggleLike),this._element.querySelector(".card__image").addEventListener("click",(function(t){e._handleCardClick(t)}))}},{key:"_deleteCard",value:function(e){e.target.parentElement.remove(),I.splice(this._index,1)}},{key:"_toggleLike",value:function(){this.classList.toggle("likebutton_active")}},{key:"generateCard",value:function(){return this._getTemplate(),this._setListners(),this._element.querySelector(".card__text").textContent=this._text,this._element.querySelector(".card__image").src=this._link,this._element.querySelector(".card__image").alt=this._text,this._element}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n}var t,n;return t=e,(n=[{key:"_isValid",value:function(e,t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._form.querySelectorAll(this._inputSelector)),n=this._form.querySelector(this._submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._isValid(e._form,r),e._toggleButtonState(t,n)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._inactiveButtonClass),t.setAttribute("disabled","")):(t.classList.remove(this._inactiveButtonClass),t.removeAttribute("disabled",""))}},{key:"resetValidation",value:function(){var e=this,t=Array.from(this._form.querySelectorAll(this._inputSelector)),n=this._form.querySelector(this._submitButtonSelector);t.forEach((function(t){e._hideInputError(t)})),n.classList.add(this._inactiveButtonClass),n.setAttribute("disabled","")}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._clearSection(),this._items.forEach((function(t,n){e._renderer(t,n)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"_clearSection",value:function(){this._container.innerHTML=""}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){this._popup.classList.contains("popup_opened")&&"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;document.addEventListener("keydown",(function(t){e._handleEscClose(t)})),this._popup.addEventListener("click",(function(t){t.target.closest(".popup__container")||e.close()})),this._popup.querySelector(".popup__close-icon").addEventListener("click",(function(){e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popup=document.querySelector(e),n._submitFunction=t,n._form=n._popup.querySelector("form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){return this._popup.querySelectorAll(".popup__input")}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitFunction(),e.close()})),p(h(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){p(h(a.prototype),"close",this).call(this),this._form.reset(),N()}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){var n=t.nameSelector,r=t.descriptionSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._description=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._description.textContent=t}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popup=document.querySelector(e),t}return t=a,(n=[{key:"open",value:function(e,t){var n=document.querySelector(".popup__image-view"),r=document.querySelector(".popup__caption");n.src=t,n.alt=e,r.textContent=e,w(E(a.prototype),"open",this).call(this)}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u),C=document.querySelector(".editbutton"),L=document.querySelector(".addbutton"),P=document.forms.formEditProfile,q=document.forms.formAddCard,x=P.elements.name,B=P.elements.about,I=[{name:"Vale de Yosemite",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lago Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Montanhas Carecas",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Parque Nacional da Vanoise ",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],R=function(e){var t=new j(".popup_image");t.open(e.target.alt,e.target.src),t.setEventListeners()},T=new a({items:I,renderer:function(e,t){var r=new n(e.name,e.link,".cardTemplate",t,R).generateCard();T.addItem(r)}},".elements"),V=new m({nameSelector:".profile__name",descriptionSelector:".profile__description"}),A=new _(".popup-editprofile",(function(){var e=x.value,t=B.value;V.setUserInfo(e,t)}));A.setEventListeners(),C.addEventListener("click",(function(){A.open();var e=V.getUserInfo();x.value=e.name,B.value=e.description}));var D=new _(".popup-addcard",(function(){var e=q.elements.title,t=q.elements.link,n={name:e.value,link:t.value};I.unshift(n),T.renderItems()}));D.setEventListeners(),L.addEventListener("click",(function(){D.open()}));var U={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input-error",errorClass:"popup__error_visible"},F=new o(U,q),M=new o(U,P);function N(e){F.resetValidation(),M.resetValidation()}F.enableValidation(),M.enableValidation(),T.renderItems();var Y=(new Date).getFullYear();document.querySelector(".footer__text").textContent="© ".concat(Y," Around The U.S.")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U2hILEtBQ3JDbUksRUFBVSxDQUNkaEMsS0FBTTZCLEVBQWVMLE1BQ3JCM0gsS0FBTWtJLEVBQWNQLE9BRXRCcEcsRUFBYTZHLFFBQVFELEdBQ3JCYixFQUFTZSxhQUNWLElBR0ROLEVBQWFWLG9CQUViVixFQUFVM0YsaUJBQWlCLFNBQVMsV0FDbEMrRyxFQUFhWCxNQUNkLElBRUQsSUFBTWtCLEVBQWdCLENBQ3BCQyxhQUFjLGVBQ2RuRyxjQUFlLGdCQUNmRSxxQkFBc0IsaUJBQ3RCRSxvQkFBcUIseUJBQ3JCRSxnQkFBaUIscUJBQ2pCRSxXQUFZLHdCQUdSNEYsRUFBdUIsSUFBSXhHLEVBQWNzRyxFQUFleEIsR0FFeEQyQixFQUEyQixJQUFJekcsRUFDbkNzRyxFQUNBMUIsR0FTRixTQUFTZixFQUFzQmhCLEdBQzdCMkQsRUFBcUJFLGtCQUNyQkQsRUFBeUJDLGlCQUMxQixDQVRERixFQUFxQkcsbUJBQ3JCRixFQUF5QkUsbUJBQ3pCckIsRUFBU2UsY0FXVCxJQUNNTyxHQURPLElBQUlDLE1BQ1FDLGNBQ1ZuSSxTQUFTQyxjQUFjLGlCQUMvQmlCLFlBQVAsWUFBMEIrRyxFQUExQixtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSBcIi4uL3BhZ2UvaW5kZXguanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHRleHQsIGxpbmssIHRlbXBsYXRlU2VsZWN0b3IsIGluZGV4LCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3NldExpc3RuZXJzKCkge1xyXG4gICAgLy9kZWxldGVDYXJkXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fZGVsZXRlQ2FyZCk7XHJcblxyXG4gICAgLy90b2dnbGVMaWtlXHJcblxyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5saWtlYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fdG9nZ2xlTGlrZSk7XHJcblxyXG4gICAgLy9jYWxsUG9wdXBJbWFnZVxyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2RlbGV0ZUNhcmQoZXZ0KSB7XHJcbiAgICBldnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICBpbml0aWFsQ2FyZHMuc3BsaWNlKHRoaXMuX2luZGV4LCAxKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlKCkge1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwibGlrZWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0TGlzdG5lcnMoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLmFsdCA9IHRoaXMuX3RleHQ7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnT2JqZWN0LCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZ09iamVjdC5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWdPYmplY3Quc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnT2JqZWN0LmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWdPYmplY3QuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZ09iamVjdC5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2lzVmFsaWQoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSxcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkKHRoaXMuX2Zvcm0sIGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpLFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5fY2xlYXJTZWN0aW9uKCk7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtLCBpbmRleCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9jbGVhclNlY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikgJiZcclxuICAgICAgZXZ0LmtleSA9PT0gXCJFc2NhcGVcIlxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZShldnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKCFldnQudGFyZ2V0LmNsb3Nlc3QoXCIucG9wdXBfX2NvbnRhaW5lclwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWljb25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmltcG9ydCB7IGhhbmRsZVJlc2V0VmFsaWRhdGlvbiB9IGZyb20gXCIuLi9wYWdlL2luZGV4LmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEZ1bmN0aW9uKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZ1bmN0aW9uID0gc3VibWl0RnVuY3Rpb247XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIHJldHVybiBpbnB1dExpc3Q7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbigpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICBoYW5kbGVSZXNldFZhbGlkYXRpb24oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9uYW1lLnRleHRDb250ZW50O1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB7IG5hbWUsIGRlc2NyaXB0aW9uIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuZXdOYW1lLCBuZXdEZXNjcmlwdGlvbikge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5ld05hbWU7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG5ld0Rlc2NyaXB0aW9uO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBjb25zdCBwb3B1cEltYWdlVmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXZpZXdcIik7XHJcbiAgICBjb25zdCBwb3B1cENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xyXG4gICAgcG9wdXBJbWFnZVZpZXcuc3JjID0gbGluaztcclxuICAgIHBvcHVwSW1hZ2VWaWV3LmFsdCA9IG5hbWU7XHJcbiAgICBwb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuLi9wYWdlL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXRidXR0b25cIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkYnV0dG9uXCIpO1xyXG5jb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5mb3Jtcy5mb3JtRWRpdFByb2ZpbGU7XHJcbmNvbnN0IGZvcm1BZGRDYXJkID0gZG9jdW1lbnQuZm9ybXMuZm9ybUFkZENhcmQ7XHJcbmNvbnN0IGlucHV0TmFtZSA9IGZvcm1FZGl0UHJvZmlsZS5lbGVtZW50cy5uYW1lO1xyXG5jb25zdCBpbnB1dEFib3V0ID0gZm9ybUVkaXRQcm9maWxlLmVsZW1lbnRzLmFib3V0O1xyXG5cclxuLy8xLiBSRU5ERVIgRUxFTUVOVFNcclxuXHJcbi8vMS4xLiBSZW5kZXIgY2FyZHNcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGFuaGFzIENhcmVjYXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRhIFZhbm9pc2UgXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChldnQpID0+IHtcclxuICBjb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2ltYWdlXCIpO1xyXG4gIHBvcHVwSW1hZ2Uub3BlbihldnQudGFyZ2V0LmFsdCwgZXZ0LnRhcmdldC5zcmMpO1xyXG4gIHBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICBpdGVtLm5hbWUsXHJcbiAgICAgICAgaXRlbS5saW5rLFxyXG4gICAgICAgIFwiLmNhcmRUZW1wbGF0ZVwiLFxyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5lbGVtZW50c1wiLFxyXG4pO1xyXG5cclxuLy8xLjIuIFJlbmRlciB1c2VyIGluZm9cclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBkZXNjcmlwdGlvblNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG59KTtcclxuXHJcbi8vMiBQT1BVUCBXSVRIIEZPUk1TXHJcblxyXG4vLzIuMS4gUG9wdXAgZWRpdCBwcm9maWxlXHJcblxyXG4vL1NhdmUgZnVuY3Rpb24gb24gc3VibWl0XHJcbmNvbnN0IHNhdmVQcm9maWxlSW5wdXRzID0gKCkgPT4ge1xyXG4gIGNvbnN0IG5ld05hbWUgPSBpbnB1dE5hbWUudmFsdWU7XHJcbiAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSBpbnB1dEFib3V0LnZhbHVlO1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5ld05hbWUsIG5ld0Rlc2NyaXB0aW9uKTtcclxufTtcclxuXHJcbi8vY3JlYXRlIGluc3RhbmNlXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIi5wb3B1cC1lZGl0cHJvZmlsZVwiLFxyXG4gIHNhdmVQcm9maWxlSW5wdXRzLFxyXG4pO1xyXG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL29wZW4gb3BvdXBcclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG4gIGNvbnN0IHVzZXJPYmogPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGlucHV0TmFtZS52YWx1ZSA9IHVzZXJPYmoubmFtZTtcclxuICBpbnB1dEFib3V0LnZhbHVlID0gdXNlck9iai5kZXNjcmlwdGlvbjtcclxufSk7XHJcblxyXG4vLzIuMi4gUG9wdXAgYWRkQ2FyZFxyXG5cclxuY29uc3QgYWRkQ2FyZCA9ICgpID0+IHtcclxuICBjb25zdCBpbnB1dENhcmRUaXRsZSA9IGZvcm1BZGRDYXJkLmVsZW1lbnRzLnRpdGxlO1xyXG4gIGNvbnN0IGlucHV0Q2FyZExpbmsgPSBmb3JtQWRkQ2FyZC5lbGVtZW50cy5saW5rO1xyXG4gIGNvbnN0IG5ld0NhcmQgPSB7XHJcbiAgICBuYW1lOiBpbnB1dENhcmRUaXRsZS52YWx1ZSxcclxuICAgIGxpbms6IGlucHV0Q2FyZExpbmsudmFsdWUsXHJcbiAgfTtcclxuICBpbml0aWFsQ2FyZHMudW5zaGlmdChuZXdDYXJkKTtcclxuICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG59O1xyXG5cclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXAtYWRkY2FyZFwiLCBhZGRDYXJkKTtcclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEFkZENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IGZvcm1BZGRDYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGVmYXVsdENvbmZpZywgZm9ybUFkZENhcmQpO1xyXG5cclxuY29uc3QgZm9ybUVkaXRQcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgZGVmYXVsdENvbmZpZyxcclxuICBmb3JtRWRpdFByb2ZpbGUsXHJcbik7XHJcblxyXG5mb3JtQWRkQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1FZGl0UHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG4vL3JlbmRlckNhcmRzKCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVSZXNldFZhbGlkYXRpb24oaXRlbSkge1xyXG4gIGZvcm1BZGRDYXJkVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGZvcm1FZGl0UHJvZmlsZVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufVxyXG5cclxuLy9yZW5kZXIgZGluYW1pYyBkYXRlIG9uIGZvb3RlclxyXG5cclxuY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbmNvbnN0IGN1cnJlbnRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5jb25zdCBmb290ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fdGV4dFwiKTtcclxuZm9vdGVyLnRleHRDb250ZW50ID0gYMKpICR7Y3VycmVudFllYXJ9IEFyb3VuZCBUaGUgVS5TLmA7XHJcblxyXG5leHBvcnQge1xyXG4gIGlucHV0TmFtZSxcclxuICBpbnB1dEFib3V0LFxyXG4gIGZvcm1BZGRDYXJkLFxyXG4gIGZvcm1BZGRDYXJkVmFsaWRhdG9yLFxyXG4gIGZvcm1FZGl0UHJvZmlsZVZhbGlkYXRvcixcclxuICBoYW5kbGVSZXNldFZhbGlkYXRpb24sXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkNhcmQiLCJ0ZXh0IiwibGluayIsInRlbXBsYXRlU2VsZWN0b3IiLCJpbmRleCIsImhhbmRsZUNhcmRDbGljayIsInRoaXMiLCJfdGV4dCIsIl9saW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaW5kZXgiLCJfaGFuZGxlQ2FyZENsaWNrIiwiY2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUNhcmQiLCJfdG9nZ2xlTGlrZSIsImV2dCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmUiLCJpbml0aWFsQ2FyZHMiLCJzcGxpY2UiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0TGlzdG5lcnMiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWdPYmplY3QiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfaXNWYWxpZCIsIl9zZXRFdmVudExpc3RlbmVycyIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJfY2xlYXJTZWN0aW9uIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJpbm5lckhUTUwiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJjb250YWlucyIsImNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2VzdCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jdGlvbiIsIl9zdWJtaXRGdW5jdGlvbiIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJoYW5kbGVSZXNldFZhbGlkYXRpb24iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJfbmFtZSIsIl9kZXNjcmlwdGlvbiIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm5ld05hbWUiLCJuZXdEZXNjcmlwdGlvbiIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXBJbWFnZVZpZXciLCJwb3B1cENhcHRpb24iLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwiZm9ybUVkaXRQcm9maWxlIiwiZm9ybXMiLCJmb3JtQWRkQ2FyZCIsImlucHV0TmFtZSIsImVsZW1lbnRzIiwiaW5wdXRBYm91dCIsImFib3V0IiwicG9wdXBJbWFnZSIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNhcmRMaXN0IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInVzZXJJbmZvIiwicG9wdXBFZGl0UHJvZmlsZSIsInZhbHVlIiwic2V0VXNlckluZm8iLCJ1c2VyT2JqIiwiZ2V0VXNlckluZm8iLCJwb3B1cEFkZENhcmQiLCJpbnB1dENhcmRUaXRsZSIsInRpdGxlIiwiaW5wdXRDYXJkTGluayIsIm5ld0NhcmQiLCJ1bnNoaWZ0IiwicmVuZGVySXRlbXMiLCJkZWZhdWx0Q29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiZm9ybUFkZENhcmRWYWxpZGF0b3IiLCJmb3JtRWRpdFByb2ZpbGVWYWxpZGF0b3IiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiY3VycmVudFllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwic291cmNlUm9vdCI6IiJ9